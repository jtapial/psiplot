---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# psiplot

psiplot is an R package for generating plots of percent spliced-in (PSI) values of 
alternatively-spliced exons. It is a supplement to the `plot` tool provided
by [vast-tools](https://github.com/vastgroup/vast-tools), an RNA-Seq pipeline for 
alternative splicing analysis. The `plot` functionality in vast-tools was designed
to be run as an executable. The `plot` code base has been forked to create this R package. 

Currently, the plot code for vast-tools and psiplot are maintained separately,
even though they are technically identical. Future work is planned to integrate
psiplot into the vast-tools `plot` code.

## Installation

The most up-to-date development version can be obtained via devtools:
```{r eval=FALSE}
install.packages("devtools")
library(devtools)
install_github("kcha/psiplot")
```

## Usage

psiplot takes as input the PSI results generated by vast-tools (e.g. after running
`vast-tools combine` or `vast-tools diff`. 

```{r eval=FALSE}
library(psiplot)

# Load PSI results into a data frame
psievents <- read.csv("test_data/sample_psi_data.tab", sep="\t")
head(psievents)

# Plot an event

```

### Customizing plots

#### The `.config` file way
In `vast-tools plot`, an optional config file can be used to customize the look
of the PSI plots. The same config file can be supplied here as well.

The color and ordering of samples can be customized by supplying a plot
configuration file (`psiplotter.config`). This file is tab-delimited and must be
manually created. The format of `psiplotter.config` is the following (the header
line is required):

```
Order    SampleName    GroupName    RColorCode
1        Ooctye        EarlyDev     blue
2        Embr_2C       EarlyDev     red
```
etc..

- Order: The ordering of the samples from left to right.
- SampleName: Name of the sample. MUST match sample name in input table.
- GroupName: Group name. Use for plotting the average PSI of samples belonging
to the same group (need to use option -u/--group-means)
- RColorCode: Any of the three kinds of R color specifications:
1) color name (as specified by `colors()`)
2) hex color code (#rrggbb)

The samples under SampleName MUST MATCH the names in the PSI input table.
Only the samples listed in the config file will be represented in the
resulting plots. Other samples in the PSI table but not in the config
file will be ignored. This may be useful if you want to customize the
type of samples in your plots.

```{r eval=FALSE}
```

#### The R way

PSI plots can also be configured using the standard R options. 

```{r eval=FALSE}
```

## Related Projects
- [vast-tools](https://github.com/vastgroup/vast-tools)


## References
